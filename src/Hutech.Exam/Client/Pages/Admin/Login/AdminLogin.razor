@page "/admin"
@inject ISnackbar Snackbar

<PageTitle>Admin Login</PageTitle>

<MudPaper Elevation="4" Class="pa-4" Style="height: 102vh; padding: 0 !important">
    <MudGrid Style="height: 100%">
        <MudItem xs="6" Style="align-content: center">
            <video autoplay loop muted playsinline class="video-background" style="width: 80%">
                <source src="/images/login/login-video.mp4" type="video/mp4">
                Trình duyệt của bạn không hỗ trợ video.
            </video>
        </MudItem>

        <MudItem xs="6" Style="align-content: center; background-color: cornflowerblue">
            <MudCard Style="transform: scale(0.93)">
                <!-- Logo -->
                <MudCardContent Class="d-flex justify-center">
                    <MudImage Src="images/exam/Logo.svg" Width="200" />
                </MudCardContent>
                <!-- Form đăng nhập -->
                <MudCardContent>
                    <MudGrid Spacing="2">
                        <MudItem xs="12">
                            <MudTextField T="string" Label="Nhập tên đăng nhập hoặc email" Variant="Variant.Outlined" InputType="InputType.Text"
                                          @bind-Value="username" Required="true" RequiredError="Vui lòng nhập tên tài khoản!" />
                        </MudItem>
                        <MudItem xs="12">
                            <MudTextField T="string" Label="Nhập password" Variant="Variant.Outlined" InputType="@PasswordInput" Adornment="Adornment.End" AdornmentIcon="@PasswordInputIcon" OnAdornmentClick="ButtonTestclick" AdornmentAriaLabel="Show Password"
                                          @bind-Value="password" @onkeyup="EnterAsync" Required="true" RequiredError="Vui lòng nhập mật khẩu!" />
                        </MudItem>
                        <MudItem xs="12" Class="d-flex justify-center">
                            <MudButton Variant="Variant.Filled" OnClick="OnClickLoginAsync" Style="background-color: rgb(0,107,179); color: white">Đăng nhập</MudButton>
                        </MudItem>
                    </MudGrid>
                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>
    
</MudPaper>

<style>
    .mud-main-content {
        padding: 0;
    }
</style>

@code {
    bool isShow;
    InputType PasswordInput = InputType.Password;
    string PasswordInputIcon = Icons.Material.Filled.VisibilityOff;

    void ButtonTestclick()
    {
        @if (isShow)
        {
            isShow = false;
            PasswordInputIcon = Icons.Material.Filled.VisibilityOff;
            PasswordInput = InputType.Password;
        }
        else
        {
            isShow = true;
            PasswordInputIcon = Icons.Material.Filled.Visibility;
            PasswordInput = InputType.Text;
        }
    }
}